<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Exporter</title>
</head>

<body data-gr-c-s-loaded="true">



<script src="exporter.js"></script>

<script>
    // URL format: /export/?format?color1;color2;color3?name
    // Example URL: /export/?txt?#80ff72;#7ee8fa;#fff07c?coolpalette

    var url = window.location.href;
    var params = url.slice(url.indexOf('#') + '#'.length);
    
    console.log(params);
    params = params.split('-');
    console.log(params);

    var format = params[1];
    var colors = decodeURIComponent(params[0]).match(/.{1,6}/g);
    var name = decodeURIComponent(params[2]);

    if (name == "undefined")
        name = 'Color Palette'

    console.log('Format: ' + format);
    console.log('Colors: ' + colors.join(' '));
    console.log('Name: ' + name);

    switch (format)
    {
        case 'txt':
        case 'hex':
        case 'rgb':
            exporter.exportTextFile(colors, colors.join('-'));
            break;
        case 'css':
        case 'scss':
            exporter.exportStylesheet(format, colors, colors.join('-'));
            break;
        case 'png':
        case 'jpeg':
            exporter.exportImage(format, colors, colors.join('-'));
    }
</script>


</body></html>